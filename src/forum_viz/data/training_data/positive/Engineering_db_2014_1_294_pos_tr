0:<Hi,
I am <nameRedac_anon_screen_name_redacted> from Pakistan. Really excited about this course :).
cheers..>
1:<Hi, I'm <nameRedac_anon_screen_name_redacted> from Croatia. I believe we will learn lot on this course. My previous experience with Stanford courses are great! :)>
2:<HI myself <nameRedac_anon_screen_name_redacted>
i too missed last time :)>
3:<Hello everybody !!
This is <nameRedac_anon_screen_name_redacted> from India. Looking forward to learn as much as possible about databases and participating in discussions about the same. :)>
4:<Hi Franziska, I'm from Germany too! :)>
5:<Hello Everyone,

I'm <nameRedac_anon_screen_name_redacted> from Hungary, living in London. I'm looking forward to this course. Nice to meet you all :)>
6:<Hi all, 

    I am <nameRedac_anon_screen_name_redacted> from India. 
    Ah Finally :)>
7:<welcome happy to be here :)>
8:<Hi this <nameRedac_anon_screen_name_redacted> from Sudan Nice to meet u guys :)>
9:<Hello Everyone, I am <nameRedac_anon_screen_name_redacted> from Nigeria. Nice to have you all here :)>
10:<Hi everybody!! I am <nameRedac_anon_screen_name_redacted> from India. Nice to meet you all!  Hope we will all finish the course and have fun :)>
11:<I passed!

Got a "lucky" set of questions :)>
12:<Oh, thank you very much.  :-)>
13:<You can use the videos and slides you downloaded for learning in the course :)

I don't believe anything has changed, and if something has, I'll let you know, but it would be minor anyways.>
14:<Hi, I am <nameRedac_anon_screen_name_redacted>, living in Austin. Just moved from Chicago! Glad I did - they are all freezing up there :) Anyone from Texas in this class? I am so excited.>
15:<Hi, i'm Fèlix from Colombia... also excited about learning a lot about this topics... Hello to everyone... :D>
16:<Hi, I'm <nameRedac_anon_screen_name_redacted> from Kosovo(Europe), Lets all be friends and have fun learning Database :)>
17:<Hi all :) excited to start this journey , My name is <nameRedac_anon_screen_name_redacted> and i am from USA.

 1. facebook group https://www.facebook.com/groups/<phoneRedac><zipRedac>69<zipRedac>0/

 2. what's app ( android, blackberry, windows , etc instant messaging app) For this we have to exchange phone numbers and i understand your hesitation. Email me your number and i will add u in the group chat tune345@gmail.com if you are okay with it.

Happy Learning :) 
<nameRedac_anon_screen_name_redacted>.>
18:<Hello Luis (& hello to everybody else too), 

It's nice to meet you; my name is <nameRedac_anon_screen_name_redacted>.
Oooh, the Dominican Republic; that's quite an exotic place (from my perspective at least)! I'm from Scotland (which is a part of the UK) so we have fairly cold, wet and not so nice weather so I am fairly jealous of the weather you experience for the most part (hurricanes etc not so much!).

Hopefully we all will learn a lot from this course and I'm sure we will based on the value of effort put into this course (big thank you to the team) but I'm assuming people have the time and they put in the effort.

I hope you have a nice day and pleasant learning experience :).>
19:<Hello everyone, I am <nameRedac_anon_screen_name_redacted>,from Libya, but currently based in Kuala lumpur Malaysia, and hopefully moving to Singapore  before this course is over :)

I am sure it is going to be an enjoyable and fruitful experience. wish you all best of luck 

<nameRedac_anon_screen_name_redacted>>
20:<Hi Fuad Aziz, nice to see you here. still doing DIA at EIT? :)

<nameRedac_anon_screen_name_redacted>>
21:<Hello everyone!
Ukraine is here too =)
My name is <nameRedac_anon_screen_name_redacted>, and it's my first suchlike training ?ourse. Maybe its because of my horrible English! But I will try to make it better, I promise =)
I came here because I decided to learn a new profession which needs knowledge of SQL too.
 So, I hope I will successfully finish this course with you, guys =)>
22:<Hi everyone, I'm Seán from Dublin, Ireland. Good luck to all with the course! Looking forward to it :-)>
23:<Hi all! I'm <nameRedac_anon_screen_name_redacted>, from Cape Town, South Africa. This is my first foray into the world of online education, and I'm really excited about it :-)
I'm looking forward to our little global study group, and I hope we can learn heaps from each other.>
24:<Hi!, I'm <nameRedac_anon_screen_name_redacted> and I am from Mexico (D.F.) and I hope I can keep it up with you guys :)>
25:<Hi all!

I'm <nameRedac_anon_screen_name_redacted> from Estonia but currently living in Romania, Europe! Here to expand my knowledge about databases. Nice to see you all here from many different places worldwide :)>
26:<not really... a framework is mostly an standard join of concepts and criteria to work with in an specific frame... I mean... there are frameworks (in software) for  working with databases, html, even with some programming language... if I'm wrong please someone correct me... :D>
27:<Great :)>
28:<well try to learn more here... :D>
29:<Embeddable databases (h2, hypersonic, sqlite) can store data in ram only --- so it is not permanent, some of them (hypersonic, sqlite)? are not really multi-user as only single process can access them. 

Well maybe I'm cynical, but DB2 is definetely not convenient ;)>
30:<a middleware, from what I understand are applications that links the requests from users with info maybe in a databse... an example of middleware are servlets... and in some cases JSP's... :D>
31:<Welcome... hi from Medellin Colombia...:D>
32:<Not at all. I agree it wasn't clear at all :)

Thanks to you and others, I've added a note on that video page with clearer instructions/directions.>
33:<Thank you! You perfectly answered my question! =)>
34:<<nameRedac_anon_screen_name_redacted> here from Houston, TX. Good luck to all :)>
35:<You can do it! :)>
36:<Each element within xs:option-tags is optional for itself. So you have true options and no necessities just because you want to provide one of the options. 

Hope you understand me - and me is correct :D

<nameRedac_anon_screen_name_redacted>>
37:<Hey all! I'm from Toronto, Canada, but I currently live in Mountain View, CA. (Near Stanford!) I hope to learn DB and get to know everyone :)>
38:<Hi there :-) I am Peter from the Czech Republic, hope all will enrich their knowledge.>
39:<Hello,I am Asif from Bangladesh.I am excited about making new friends :)>
40:<Hi Mehul,

I live in London but I'm away for work in Greece until Feb 10th. Would be happy to meet up with you for a study group later in the course though :)

Will get in touch when I get back.

<nameRedac_anon_screen_name_redacted>
<nameRedac_anon_screen_name_redacted>@gmail.com>
41:<yeah you're right... thks... :D>
42:<I have joined :)>
43:<Hi Nenad, greeting from Serbia. <nameRedac_anon_screen_name_redacted> :)>
44:<You might find the [discussion thread entitled "XML Quiz, Question 6"][1] useful :)


  [1]: https://class.stanford.edu/courses/Engineering/db/2014_1/discussion/forum/i4x-Engineering-db-course-2014_1-assignments/threads/52ccdc57ea1c9b38c<phoneRedac>>
45:<Hi Vatsala, you will have to get libxml2 and in addition to that iconv and zlib (at least that's how it worked for me on Windows 7). Check out this website: http://www.zlatkovic.com/libxml.en.html

You will have to adjust your path variable for all three packages too, otherwise you'll get error messages when you try to use the xmllint command. Good luck! :)>
46:<What about removing the practice quizzes and the parts that have "No problem scores in this section" so as not to confuse anyone :)

Or maybe use another color instead of the glaring red that implies that there's something in error?>
47:<Glad it worked! :)>
48:<Well, it depends on your Operating System. XMLs and DTDs are plain text files so any plain text editor should do the work. In my Linux box I use Vim ;), but if you use Windows I'd recommend Notepad++. For MacOS, there is TextMate.>
49:<say, you downloaded and unzipped the course file "dbclass-script-files.zip" and assume now the  "Bookstore-noDTD.xml" file is in the following folder :
"C:dbclass-script-files". then you start the windows cmd window, and in the prompt window, type:
"cd C:dbclass-script-files"
this command brings you in "the folder where Bookstore-noDTD.xml is installed".
then run the xmllint.exe by typing:
"xmllint --valid --noout Bookstore-noDTD.xml"
and it should work. thanks.>
50:<EDIT: Fixed my problem. Had IDREF instead of IDREFS . The error report didn't help at all, though. :)>
51:<Thank you! now it runs ok. :)>
52:<You´re welcome, Allen :) You can also see YLei´s comment above, describing another good way to open cmd for a certain location. Lacking some really basic knowledge is clearly an obstacle for me in this course, but it´s good we have this forum!>
53:<Thanks Alex - I just had another look and there's no error :)

The conditions of the theta-join specify the join completely. I thought they were in addition to the R.B = S.B condition in a natural join. So in this question there's no requirement for R.B = S.B. Therefore the answer doesn't have to be one of the last two.

I just thought I'd clarify in case anyone else makes the same mistake!

It seems one of the earlier questions in the quiz has been changed to make this clear as well which is excellent :)>
54:<Cze?? :)

I'm from Poland as well, good luck for you!>
55:<Let's stop posting responses to this "Welcome Post", and instead, if you have a question, click on "New Post" and ask it via a new post. That'll make everything much more organized and allow other students to more likely see it and help you :)>
56:<Did it!

9 lines, 250 chars, and very simple basic idea  :)>
57:<Thanks Ricardo and KyyyyWill, it was misspelling error! I can't believe i lost hole hour looking at that line and not seeing that! :)>
58:<Hello, My name is <nameRedac_anon_screen_name_redacted> <nameRedac_anon_screen_name_redacted>, I am from Hub Chowki, Pakistan. And best wishes for the course :D>
59:<HALLEJUAH! I got it correct! Thank you to everyone who posted questions and answers about this. It helped me work through it and understand a little better. Now to struggle on to #2 and #3... :)>
60:<I would suggest either Notepad++ or Sublime Text 2. They are both great, and offer code highlighting/color themes- which is really helpful. They also both support many programming languages, and are freeeeee :)>
61:<#IMPLIED not #INPLIED :)>
62:<Figured out that THAT was my problem. :)>
63:<I am facing the same problem with this particular video. Text is to small to read and follow and clicking on the HD button doesn't seem to work. You are not the only one with this issue :)>
64:<Yeah I've taken two of the quizzes already and I've noticed that the possible answers sometimes omit the correct answer, or appeared to have two possible correct answers.  I'd say that is either because (1) the instructor wants us to rack our brain, that way we learn via trial, error and a bunch of self-querying :-) or (2) the script that pulls the questions was not written with logic to pull only one correct answer per question.  Admittedly it is a bit annoying when you couple this issue with the fact that we have to wait 10 mins to submit a quiz... but it is not at all a deterrent and I couldn't expect perfection for a free course :-)>
65:<Good to see you checking the thread and people helping others here :)>
66:<Hi, I'm <nameRedac_anon_screen_name_redacted>, from Munich, Germany. Nice to meet you all :)>
67:<Yes! I just found it and it is extremely helpful!
Thanks :)>
68:<It's working. Thank you :)>
69:<Yes, I have double checked the test percentage and is complete and shows my percentage now. Gremlins doing their work on 13rd days ;)

Thanks everybody for their patience and help

<nameRedac_anon_screen_name_redacted>>
70:<O I see that I am not alone :). 

Great, It is very good idea to taking these activities to develop our skills. 

Tnx.>
71:<I'm.. not even quite sure what to ask. I am so confused by this! Can anyone shed some light on the whole id and idref thing?

So.. if i'm doing an ID attribute, would i put "ID" or "InstrID"?

!ATTLIST Course Number CDATA #REQUIRED
		         Instructors **ID** #REQUIRED

And then.. How do you do the reference? Where would the reference go? I've watched the video like five times, and gone through this tutorial (http://zvon.org/comp/r/tut-DTD.html#Pages~Attributes%3A_IDREF%2C_IDREFS) but I'm still so stuck :(

please help!! and thank you in advance :) :)>
72:<If you're using Windows, try Notepad++ with the XML Tools plugin. As an added bonus, the program highlights keywords, making the code look easier to read. :)>
73:<redo the video :D>
74:<Hi,
relational algebra videos are total 7 videos - part1 divided into 4 videos and part 2 into 3. Use arrows :-)>
75:<It's fantastic that we have fellow "classmates" from around the world. Below is a link to a time converter, it could make the deadline conversion to own respective time zones much easier. I'm in Arizona, so I had to literally look up the difference between our time zone & UTC just to be sure what I previously assumed (11:59 pm PST) was correct. :)

http://www.timeanddate.com/worldclock/converter.html>
76:<Assuming you have downloaded the pizza.sql file from the top of RA Core Exercices, you should first install sqlite if not already down and not in your machine (for this I cannot help since I'm on a Mac).

Then you invoke sqlite providing a name for the new database:

    sqlite3 pizza.db

it maybe that it is sqlite our your system, not sqlite3

Then you import the pizza.db file in the pizza database in sqlite:

    .read pizza.sql

 You then may check that all is good:

    .tables

It should gives: Eats Frequents Person Serves

Now to ra. You have to create a pizza.properties file that gives pizza.db as database for ra. Basically it has this line in it:

    url=jdbc:sqlite:pizza.db

You should get rid of sample.db.

Finally you invoke ra with:

    java -jar ra.jar pizza.properties

And you can use all the relational algebra explained in the official page for ra on the pizza.db database

For this to work ra.jar, pizza.properties, pizza.sql and pizza.db should be in the same directory.

Hope this helps,
Michèle>
77:<hi MiCr,

i do think you do have to look at the other sources mentioned in the Readings in addition to the lectures (and the slides).

i agree that the XML question was somewhat "out of the blue", but i think the idea was to get the flavor of XSD, without knowing the entire spec. sometimes you have to work with incomplete knowledge :-)

normally in the "real world" you would come up with a DTD spec and write docs to it. in the exercises we have to reverse it to get an understanding of how DTD's work.

i'd suggest looking at the the dtd tutorial mentioned in the Readings. i found the zvon.org tutorial very helpful for the dtd exercise. 

also suggest getting the xmllint program and trying the exercises
locally on your computer.

hope this helps. best luck.

<nameRedac_anon_screen_name_redacted>>
78:<The parenthesis in your definition act like a grouping.  What you will want to do is find a way to define that either &ldquo;Professor&rdquo; or &ldquo;Lecturer&rdquo; are allowed and they are allowed multiple times.

The following:
> ((Professor , Lecturer*) | (Lecturer? , Professor*)

This reads as:
> (a profressor followed by multiple lecturers)
> OR 
> (zero or one Lecturer followed by mutliple professors.)

What you are looking for is:
> (A professor or lecturer) allowed multiple times.>
79:<Took me an like an hour to solve this problem :)  Who thinks of these convoluted questions!?>
80:<Hints: 1) case sensitivity - Courseref
2) (#IMPLIED/#REQUIRED) - not every course has Courseref
3) ANY instead of EMPTY probably better choice :)>
81:<I saw your logic earlier, but I forget it and I found different way to solve this ;)>
82:<Yeah, just to follow up on this, I ran my DTD through the validator that @Algha provided, found an error, re-ran it through the class validator thing, and it came back correct, so this just basically means there's an error in the code somewhere :] keep trying things and eventually you'll get a Correct!

Thanks for your feedback guys!!>
83:<Ohkay.. Thanks. :)>
84:<Hello,

For Doruk:  
[http://code.edx.org/][1]

They would love to see any patches :-)  

<nameRedac_anon_screen_name_redacted>

ps. I do somewhat agree with the rant(besides the Prof Widom part), information gets easily lost in the forum that EdX uses.

  [1]: http://code.edx.org/>
85:<Hey can't we take a cross product of serves with serves and then give `pizza1=pizza2 and price1<'10' and price2<'10' condition? WHat is wrong I should get all pizza sold for less than 10 at all pizzeria still I am getting Supreme and mushroom as extra tuples` Please help.>
86:<Thanks itzmashy. This definitely pointed out my error. :)>
87:<Ahh, wait! It may be that the second line does not have '>' at the end. Try adding '>' :)>
88:<Great! :) Happy I was able to help.>
89:<"NONE
Invalid grader reply. Please contact the course staff. "
after submitting my DTD program on DTD exercise
 i am getting above message 
don't know what does it indicate
HELP :)>
90:<To address jbooths original question: I think your problem lies here:

    <!ELEMENT country (language, city)*>

(see explanation above). Your declaration for the language element seems fine to me :)

Furthermore, this:

    <!ELEMENT city (name, population)*>

is more complicated than it needs to be - every city has exactly one name element and one population element, in this order, so there is no need for the Kleene star operator. However, this shouldn't cause an error.>
91:<hey thanks a lot, I was actually trying to do it without the sample data.. :)>
92:<It doesn't go away or become blank, just press enter and they will shift to the other line. Hope this helps. :)>
93:<Found the solution. I used xs:decimal>
94:<Hi, 
I think I've nearly done it but I keep getting stuck at 

< !ATTRIBUTE Lecturer InstrID IDREF #REQUIRED>


It keeps throwing up error 

Error messages from xmllint: /tmp/tmppbwQhA.dtd:13: parser error : Content error in the external subset

<!ATTRIBUTE Lecturer InstrID IDREF #REQUIRED>

^

/tmp/tmppbwQhA.dtd:13: parser error : Content error in the external subset

<!ATTRIBUTE Lecturer InstrID IDREF #REQUIRED>

^

Could not parse DTD /tmp/tmppbwQhA.dtd

Not sure what I'm doing wrong as I've referenced the InstrIDs in earlier code like this:
< !ATTLIST Course Number ID #REQUIRED    
                 Prerequisites CDATA #IMPLIED
                 Instructors IDREFS #REQUIRED
                 Enrollment CDATA #IMPLIED>   
              
Any help appreciated :-)>
95:<it's ok, i finished everything sucessfully, Thx, anyhow for willigness to help, it was a tool startup problem :)>
96:<Hi I am <nameRedac_anon_screen_name_redacted> from Karachi,Pakistan , Joined late, but going to cover it! :)>
97:<Hi I am <nameRedac_anon_screen_name_redacted> from Karachi,Pakistan , Joined late, but going to cover it! :)>
98:<Hey thanks I got it. :)
We need to define it for only once. :)>
99:<You might have defined variable country twice. 
Just remove one of them even if they appear twice in XML as one will suffice for all with same element name.
I hope this helps. :)>
100:<My idea for solving this question is 
1) Find pizzas that are NOT eaten at all by people over 30 - and that was easy.
2) Then I think I should choose pizzerias that serve those pizzas from point 1) and diff them from all pizzerias and the result will be the answer to question. 

anyways I'm stuck at second step ;)>
101:<Hi,
I fought a lot with Q2 before reading Q3 :)

The rule I wanted to write for Q2 is the following: the 'leaf' element Element_Name can take only one value - a string (#PCDATA) or the value of an IDREF's element. For example a book's author can be a ref 'Ident' or a string 'John Smith' if this author is not referenced.

But the syntax :

    <!ELEMENT Element_Name(#PCDATA | IDREF_Name)>

throw an error - ending star required with mixed content...

Is it possible to write such a rule?>
102:<Hi everyone! My name is Alex <nameRedac_anon_screen_name_redacted>. I'm a Computer Science major looking to learn more about my field. Looking forward to connecting with everyone! Good luck to you both. :)>
103:<thank you!! this finally made me realize what i was doing wrong :) <3>
104:<That fixed it :) Thanks!>
105:<Just curious if people are taking more than a single MOOC course and if so, how are they faring.

I had signed up for this database course as well as the Computer Networking course by Prof. David Wetherall on Coursera.  

However, with a full-time software job, I found it impossible to do two courses simultaneously.  The networking course has a huge workload, a bit more than this DB course, at least for the first couple of weeks.  

I dropped the networking course after the first week and am sticking with this database course.  I figure I might as well study one subject well, rather than be meager in two.  

Even with a single course, I am only watching the videos and doing all the quizzes and exercises.  I could do all the core and challenge exercises successfully so far (upto Relational Algebra, week 2), but they do require a fair amount of time and I have not been able to find the time to read the text as I had planned to.

I am a bit curious as to if there are others who are able to manage a full time job and do more than one course simultaneously.  Sorry for the long post.  :-)>
106:<Hi, working hard, started/registered yesterday and did my best with kid that come back completely sick from school, hard fever night. Well. I know. OK. Let him in bed and working hard.
Sometimes (on EdX) UTC is said, but it is computed with Pacific time...
In case you know something about the former delay of last week, tell me :-)
Anyway I'm in a bad situation to go to the certificate, but hope and delays are motivating,
Cheers>
107:<I am doing similar thing, except I don`t have a job in computer industry, I am an economist, an accountant. So, if I can manage more then 1 course and a full time job (not even in same field), so can you ;)
Just do it :)>
108:<Don't think so. I just missed my relational algebra quiz. I finished it 2 minutes late and got a big "ZERO", and all my answers were correct when I checked them. :D

Lesson Learnt. [(Keep an eye on the deadline AND submit even of incomplete) or (complete when you have enough time before deadline)].>
109:<vchollati, many thanks (alas). Helps a lot. Will then take care of my child first and foremost today. Hope DB will keep a place for me in their relational universe, both (often) nerving and yet positively challenging :-)>
110:<Not checking it fully but it does say to start with "<!ELEMENT Course_Catalog..." which your post doesn't.

I noticed while doing the DTDs locally that what happens is that you add a link to your DTD from the XML-file and you also tell it what the root element is. So it can't even find the root element at the moment. Might be it, or I'm totally off. :D

Hmm, your reply start from line six though. So what do I know. :)>
111:<Deadline for CoreEx-DTD was 07:59 UTC (GMT) Tuesday 21 Jan
You can still check your answers but without credit     
   Invalid Grader Reply . . . . seems to indicate that the system cannot identify what the error is. I have had a few :-)>
112:<Sausage and pepperoni are eaten only by people younger than 24.

:)>
113:<Thank you! I know where my problem is :)>
114:<Q3 
 (3.0/3.0 points) 


Find all pizzerias that **serve only pizzas eaten by people over 30**.
                            
 Not that are **eaten *only* by people over 30** - subtle difference     :-)>
115:<thanks , I found it :)>
116:<I was tearing my hair out all afternoon over this. Finally decided to give up and come back to it in a couple of days. I just could not see anything wrong with my logic. Frustrating !!!!!!!!!!!!!!!!!!!!!
Even tried it in SQLite but still the same result. Guess we both think the same way - but not the way SQL does :-)>
117:<I know this sounds silly, but I have just finished the Relational Algebra Core Set Exercises and I just felt compelled to leave a note of thanks (already!) for everyone who had the trouble of setting up such a wonderful course. Learning the concepts from the lectures, the RA syntax, and then applying everything to solve the proposed problems... I really felt like I was back at school, I felt again, after many years, that indefinable (but unmistakable!) thrill I used to feel when I realized I was effectively learning something challenging and just plain awesome.

So thank you, Professor Widom and everybody else!

Regards from Brazil! :)>
118:<Thanks actually I had named both the tables L1 and L2 so I had taken L1.Id<L2.ID to get the duplicates removed but instead I made them L1.ID<>L2.ID and L1.name<L2.name. :)>
119:<Thanks actually I had named both the tables L1 and L2 so I had taken L1.Id < L 2.ID but now I made them L1.ID <> L2.ID and L1.name < L2.name. :)>
120:<Ya I had figured that out. Anyway thanks.. :)>
121:<Video even says it doesn't work with sqlite and then explains what you do instead. :)>
122:<Yep... that is exactly what I'm after, Gerry.  :-)

Thanks for the suggestions, I will take a look at those two.

I can also add [SQLiteSpy][1] to the list, that someone else suggested on another post. It's free and does not require installation... just an executable and an optional db file with config options. It's looking good to me, but I will review your suggestions.

Thanks!


  [1]: http://www.yunqa.de/delphi/doku.php/products/sqlitespy/index>
123:<Finally got it :))  Thank you very much for the advices!I putted a parenthesis in the first part after Eats and i corrected the diff as you suggested>
124:<I'll deal with it then;]   Thanks for touching base with me on this.>
125:<*"eaten only by people younger than 24, **or** that cost less than $10 everywhere"* Those two letters make a big difference. :-)>
126:<Glad you got it :)>
127:<People over 30 eat cheese and supreme pizzas. The question is to find the pizzerias that serve only those pizzas.

The trick that worked for me for the RA exercises was to find the opposite of the question first. So:

1. Find the pizzas that are *not* eaten by people over 30
2. Find the pizzerias that serve the pizzas from step 1
3. Those pizzerias are not the correct pizzerias, so diff all pizzerias from the pizzerias found in step 2

Good luck with step 4 ;)>
128:<Hi, I'm <nameRedac_anon_screen_name_redacted> from Barcelona,  I have the same problem with my RA Exercises, please can you help me too? Thanks!!!!  :-)>
129:<Same trouble :)

Moreover, there is the same problem with the extra practice for Movies exercises.

I guess that there should be a special algorithm of dublicates removal for such cases, but I haven't seen it in the lectures for this section.

Any suggestions?>
130:<Got it! :)

Only one condition and everething is fine:
H1.name>H2.name>
131:<I've already got the people that eat pizza served by Straw Hat but I was trying to impose the condition gender='female' and Eats.name=Person.name>
132:<Much obliged :-)>
133:<Just solved it!  If you join the result set, with the two candidates who watched the same movie and rated it twice, with itself, and then compare the proper columns (e.g. table1.rID=table2.rID and table1.stars>table2.stars and ...[you figure out the other condition]) you can select the necessary columns, then use natural join operator and then the select again to pull the data you need... and BOOM!  the answer :-) This is why I like math, there is just something about the lack of objectivity, or grey, that will forever appeal to me.>
134:<Thx RashaL, that helped me alot :))>
135:<I'm using SQLite3 with "SQLite Administrator" Windows GUI
and PostgreSQL 9.3 with pgAdmin III.
Say no to MySQL :)>
136:<I'm using SQLite3 with "SQLite Administrator" Windows GUI 

and PostgreSQL 9.3 with pgAdmin III. 

Say no to MySQL :)>
137:<I did it in 177 letters, it is actually a pretty simple and straightforward task.
To eliminate already existing records you could use a minus operator (except select * from friend) :)>
138:<I had the same problem until i started using xs:double instead of xs:float for typecasting the percentages. Maybe that will work for you also?>
139:<**ZhaoGuoquan**, you don't need to know WHERE Amy ate her pizza. You need to know whether she has eaten any pizza that they serve in Straw Hat. Got it? :)

**Feiy**, what do you mean?>
140:<Yep, sometimes it is better to start over :)>
141:<select movie.title, Avg(Rating.stars) from movie inner join Rating on Rating.mid = movie.mid Group by (Movie.title) order by Avg(Rating.Stars) desc, movie.title;

Try this and you are done :) you just have to add desc after Avg(Rating.Stars).>
142:<Now is working fine :)>
143:<I stumbled upon this tool which you may already know, and i found it quite handy in viewing XML **data ,tags** ... etc.  [Link][1] "*http://goo.gl/4nfkYa*"  
*Hope you find it useful*  
Enjoy :).  



  [1]: http://goo.gl/4nfkYa>
144:<Each solution choice is a pair of two numbers.  The first number is a number between 1 and 3 that identifies one of the 3 MVD's.  The second number is a count of tuples that needs to be added to the relation (illustrated in the grid) to completely satisfy the MVD identified by the first number.  Pick the one valid combination.

This one is a bit of a brain strain to understand :)>
145:<got it :)
answering to myself ... you just need to write this relation in the new from clause. Then you can sort by agregate result in this new select statement. You just sort by average in descending order>
146:<I feel better now, knowing I'm not alone - Ah well - back to the grindstone, with shoulder on the wheel and my nose to the screen. Maybe this time around I'll be able to understand it.. .. .. OK watched the videos again and *THINK* I understand - got Q1 and Q2 right and as I am *NEVER* going to understand what Q4 is even asking - I am going to quit while I am breaking even :)>
147:<you're welcome ;)>
148:<Ok, I got it. It's called BCNF Decomposition and it's explained in the second video. In the first video Prof. Jennifer Widom only says that we will use the BCNF violations to break the relation into better ones, without any further explanations. So A1 and A2 are new relations, a result of decomposition of Apply relation. Wouldn't it be better to combine Q1 with Q2? :)>
149:<wait till you get to mutlivalued dependencies.. it's just hell :)>
150:<Well, I won' post the whole query, 'cause it wouldn't be good.

You can do it like this:

    delete from likes
          where exists (select f1.id1,
                               f1.id2
                               ... rest of your query ..
                          from ... figure it yourself :) ...
                         where ... your condition ...
                           and likes.id1 = f1.id1
                           and likes.id2 = f1.id2
                   )>
151:<Hello all,

I came upon this short article which explains differences between the relational/SQL world and the other side of the moon.  :-)

It also mentions the more popular options *within the open-source or free-product space*.

It was interesting to me, so I thought I'd share it:

http://www.thegeekstuff.com/2014/01/sql-vs-nosql-db/

Regards,
<nameRedac_anon_screen_name_redacted>>
152:<This is actually a question from Movie Rating Modification Ex - I was lost for a minute :)  *"Remove all ratings where the movie's year is before 1970 or after 2000, and the rating is fewer than 4 stars."* You should go with your option (b) - It is individual ratings you have to delete, the average does not come into it.>
153:<**IanLB**, could you please explain how to solve Q1 and Q2? I've got no idea even though I thought I finally understood what MVD are after repeatedly looking MVD videos.. apparently I didnt.

The video says that if we have 2 tuples that agree on the left side of MVD we should have 2 other tuples and none of the answers has these 2 extra tuples. How should I pick one? 

Oh, and sing me to the club :)>
154:<thx, I made it:)
I had a challenge writting a delete statement. I finaly use concatination function to unique select from Rating table (rID||mID||ratingDate).
A reason is you can only use in operator on 1 attribute, so I constructed it from 3 of them. Is there any other, better option?>
155:<Thx MatjazS, that helped a lot :)>
156:<You better find something for multivalued dependencies, the SQL queries are as easy as pie. :)>
157:<@ VasiliyAboymov - I was trying to think how I could phrase that politely in answer to aofarre :) No one would try to do it that way if there were 2 or 3 thousand tuples to insert :D>
158:<**juanfs**, thank you very much! I solved this diabolic multivalued dependency quiz! 

**IanLB**, juanfs' explanation is just exactly what you need to make it :)>
159:<Why are you talking about cross product? What you've done is theta join. With this query you've done the half of the job. As I already told you, try join also movie and reviewer tables to your query and you're done:

    select name, 
           title
      from rating r1,
           rating r2,
           movie m,
           reviewer r
     where ... You condition, plus 2 more
           ... I'm sure you could figure that out
           ... If not - ask :)>
160:<Ya you are right. But start with a FD and not MVD, you will get another decomposition. :)>
161:<And for me :)>
162:<Bah, nonsense, got it. Not sure whether its elegant, but it works:).>
163:<Hi.
Just do it twice as you said :)

    select * 
    from Likes
    inner join Highschooler H1 on Likes.ID1 = H1.ID
    inner join Highschooler H2 on Likes.ID2 = H2.ID;

All that related to person with ID1 you can get from H1, and with ID2 - from H2.>
164:<Hi to all :)
I had the same response several times some time ago, I waited and submitted my query again with success. So it is surely temporary problem with checking database. Be patient and try resubmit after some time. And better to not press 'Submit' every second :)>
165:<yeah, eliminate existing friendships and not allowing duplicates using distinct.... done :)

This course is way much more time consuming than expecting. Not sure if I will be able to spend so much time also in the future. so far, I was able to follow and pass all tests but have to do some other things in my life too, I have job, family ...>
166:<Glad it helped :)>
167:<same here, currently trying to submit SQL Movie Rating Exercises, can the staff please take a look at this issue? 
Thank you very much :)>
168:<Same with Social network query core class submissions. The robograder is setting up to watch the Super Bowl today and took the day off :-)>
169:<Thanks for your help GerryC :)>
170:<THANK YOU VERY MUCH for taking the time to answer the same thing again. :) I looked everywhere (even inside the course's downloadable scripts to see if any of those would create the database) except for the readings as I thoguht those would be just books...>
171:<Thanks to **LunaPecura** now I know that you were right, **juanfs**. :)>
172:<Like jimsegrave said below, ZY is the set of all elements that are in Z but not in Y. For example: If Z = {a,b,c} and Y = {b,c}, then ZY = {a}. If Z = {a,b,c} and Y = {b,c,d}, then also ZY = {a}, because the element d in the set Y is not in the set Z, so taking d away doesn't make a difference. Hope that makes it clearer! :)>
173:<I've spend a whole week on this topic. The normalization quiz is the only one where I have 75% and not 100% :) What textbook are you talking about?>
174:<Very good information, I was afraid thinking about syntax error in one possible submit. But this multiple choice is very good approach. 
Tnx :)>
175:<sure ;)>
176:<:-)>
177:<Did you setup a root username and password during installation?

Did you try opening MySQL Workbench from Start Menu and connect to the local instance using the above credentials?

Did you try the beginner SQL steps as per the "Software Guides" page on this course website?

:)

I am also a beginner and just got to a stage where i can view, create, browse, and query tables on MySQL

I am assuming you are using a similar setup as mine ... default installation on Win 7>
178:<Hi! 

Could you help me with one question? Unfortunately currently I don't have enough time for study such a quite strong and deep course. But I intended to do this in future. So, are you going to repeat the course? When the next session is expected? Is any way to get some kind of notification about future sessions of this course? P.S. Perhaps, if there are mistakes in my message then please sorry for my English, I tried to do my best:-)



Best wishes,

<nameRedac_anon_screen_name_redacted> Ivashchenko>
179:<Second question: If you have the relation R(A,C,D), and your only FD is A -> B, then there is no violation, and you don't need to decompose R any further. That is because the attribute B is part of the FD, but it is not contained in the relation; therefore, the FD doesn't apply to the relation in the first place :)>
180:<Hello,
  I was recently given permission to join this course by my employer to gain some insight into the layout and setup of databases.  Naturally, the course is quite far along and I would like to try to catch up.  Are there any future dates planned for this course so that I can try to take it from the start and so that I can try to obtain the best information possible?  Are there tips for allowing me to catch up with this course? Will it be available after the last lesson?  Since there is little chance that I'll be able to catch up on all of the lessons and the quizzes before the closing time for the Midterm, I know that I will not be receiving a passing grade for this course.  If I take it again in the future, will the "failing" grade be overwritten? 

Sorry for all of the questions.  This is my first Mooc, so I am learning as I go!

Thanks in advance for your help.  :-)

<nameRedac_anon_screen_name_redacted>>
181:<72%. some stupid mistakes plus some nice questions in Relational design. Though I did relatively well on the quizes in it, exam questions just showed me I still don't understand much :)>
182:<Thanks a million! :)

I must have missed the "|" in video lectures>
183:<thanks a lot :D>
184:<77.7% ...forgot to select the answer for a question I knew :( ... and stupid mistakes in 2 of the first 4 questions (that should have been the easier ones)...for the persons that didn't take the midterm yet: BE EXTRA CAREFUL ON THE Q1-Q4 :)>
185:<89%, somehow selected wrong answer when I exactly knew right one and did one fair error in tricky question (yes, Q1-Q4 :-)>
186:<Hi Mmyc,

in order for `CD ->> A` to hold, the following must be true: For any tuples t1 and t2 that agree in their CD-component (i.e., `t1[CD] = t2[CD]`), there must be a third tuple v that also has the same value in the CD-component (i.e., `v[CD] = t1[CD] = t2[CD]`) such that `v[A] = t1[A]` and `v[B] = t2[B]` (B is the "rest"). If we look at the four given tuples, we see that they are all distinct in their CD-components: the CD-components are (3,7), (3,8), (5,7), and (5,8). Therefore, we don't need to worry about the MVD `CD ->> A` - it will always be satisfied as long as the component from the left-hand side of the MVD has distinct values for all tuples. To see why that is the case, we can just apply the definition from above: Let's assume we have two tuples t1 and t2 that agree in their CD-component, i.e. `t1[CD] = t2[CD]`. Because all tuples are distinct in their CD-component, we can conclude that the "two" tuples t1 and t2 we picked are the same, that is, we actually picked the same tuple twice; let's call it t (i.e., t = t1 = t2). If we plug that into the rest of the definition: We need to find a tuple v such that `v[CD] = t[CD]` and `v[A] = t[A]` and `v[B] = t[B]`. Well, we can just pick v = t, and we're done :)

If this explanation didn't help to clarify it, maybe you could post those four tuples you thought were needed to satisfy the MVD? Then it might be easier to see where exactly your problem is :)>
187:<Technically, you could compute all the inferred dependencies right at the beginning, and actually that's how I first did it. But I found it kind of confusing, since there are so many rules you could apply to every FD; e.g. you could apply some augmentation rule to one FD and then combine the result with another FD and apply the transitive rule and then... and then... how do you even know whether there are still more rules to be inferred? You might have already found them all and you don't even know it! Also, you might end up with a bunch of inferred FDs that you won't even need later on in the decomposition. Personally, I find it more convenient to calculate the closure of the left-hand side of all FDs and then just take it from there. But honestly, I have no idea if this is the best way to do it (probably not), but I haven't really found a good algorithm so far to compute the set of all inferred dependencies :( but if you happen to come across one, please let me know! ;)>
188:<What you actually did is you added tuples to satisfy the MVD `D ->> A` (instead of `CD ->> A`). I think this is what happened: You picked the first tuple t1 and the third tuple t3 (t1[D] = t3[D] = 7) and added tuples for the missing combinations and got the new tuples (1,2,5,7) and (4,2,3,7). Then you picked the second tuple t2 and the fourth tuple t4 (t2[D] = t4[D] = 8), added tuples for the missing combinations, and got the new tuples (1,2,5,8) and (4,2,3,8). 

However, in order to satisfy the MVD `CD ->> A`, you need to look for two tuples that have the same values in *both their C-component and D-component*. But there are no such two tuples. t1 and t2 agree on their C-values (3), and t3 and t4 also agree on their C-values (4). t1 and t3 agree on their D-values (7), and t2 and t4 also agree on their D-values (8). But no two tuples agree on *both* their C-values *and* their D-values at the same time. t1 and t2 agree on C, but not on D; t1 and t3 agree on D, but not on C; t1 and t4 agree neither on C nor on D; t2 and t3 agree neither on C nor on D; t2 and t4 agree on D, but not on C; and lastly, t3 and t4 agree on C but not on D. The MVD `CD ->> A` states: IF there are two tuples that agree on the CD-component, THEN there must be a third tuple... and so on. Since there are no such two tuples to begin with, you don't have to worry about the THEN part, i.e. there is no need to add tuples. 

Here is an example that will (hopefully) clarify it a little more. Let's assume we add a fifth tuple to our original four tuples; let's add the tuple (6,9,3,7). Now we do have two tuples that agree on their CD component: t1 = (1,2,3,7) and the new tuple t2 = (6,9,3,7). Therefore we need to add a tuple v such that v[ACD] = t1[ACD] and v[B] = t2[B], i.e. v = (1,9,3,7). And we have one more pair of tuples with the same value in the CD component: t1 = (6,9,3,7) (the new tuple) and t2 = (1,2,3,7). This is the same thing as above, but t1 and t2 switched roles. Again we need to add a tuple v such that v[ACD] = t1[ACD] and v[B] = t2[B], i.e. v = (6,2,3,7). And now we're done, since there are no more tuples t1, t2 that have the same values in their CD component :)

If you still have trouble, could you point out exactly where you're not able to follow my reasoning?>
189:<Thanks - same with me. :-)>
190:<when there are more than one part for a topic? Just realized that :), after finishing midterm term.>
191:<Changing the "xs:int" cast to "xs:double" (but not "xs:float"!) seemed to satisfy the grader.>
192:<That's hilarious! :D

Seriously though, you should be proud of yourself - how did you even make it this far without ever watching all the other videos? How did you do all the assignments?

On a side note: It took me a while to figure that out, too. I blame it on the EdX platform. There are several things here that don't seem all that user friendly, but as long as the course is good I really don't care :)>
193:<< Average >
(let $elist:=doc("courses.xml")/Course_Catalog/
Department[Department Code="CS"]/Course/@Enrollment
  return avg($elist))
 < /Average >

Your Query Result: 
  <Average>(let $elist:=doc("courses.xml")/Course_Catalog/
Department[Department Code="CS"]/Course/@Enrollment  return avg($elist)) </Average>
 
why?
Thank you for help.>
194:<Come on Guys!

Its not hidden somewhere. Its right on top of the video. I think it isn't a bad design. May be you were more happy that you are done with the complete topic in 5 or 10 minutes :P>
195:<A is a key, so the maximum will be unique! :)
However, if A is not a key and there are two or more maximum values, I think you would be right.>
196:<Anybody...? Staff??? :)>
197:<According to the DTD, Library elements can only be children of Neighborhood elements, and Neighborhood elements can only be children of the CityInfo element. The CityInfo element (which is also the root element) contains one or more Neighborhood elements, and every Neighborhood element contains zero or one Library elements. So, to calculate the minimum, you need to compute minimum(number of Neighborhood elements in CityInfo element) times minimum(number of Library elements in Neighborhood element). For the maximum, you need to compute maximum(number of Neighborhood elements in CityInfo element) times maximum(number of Library elements in Neighborhood element).

Hope that helps! :)>
198:<I guess part 1 video is the most important and longest one. I also googled some concepts I were not clear when doing the exercises. The bad consequence is that I failed some of the normalization exercises :).>
199:<Definitely it is my bad to bypass long contexts at the top :). I only paid attention to the side bar.>
200:<You can have 0 or 1 libraries in *each* neighborhood, but you can have 1 or more neighborhoods in the city (first element declaration in the DTD). E.g., you could have 10 neighborhoods, and 3 of them have a library and the other 7 don't, so you'd have a total of 3 libraries in the city.

I'm pretty sure though that jb is referring to some of the SQL questions, since he (she?) is also mentioning intersect and equivalent queries :)>
201:<[This page][1] might be helpful :)


  [1]: https://class.stanford.edu/courses/Engineering/db/2014_1/ecb24bd5517b470bbf30f8be67d29c7b/>
202:<Think about the different axes you can use. When you formulate the condition for the courses you want to choose, you will have to compare the names of the instructors that teach this course to the name of the chair of the department. You can get to the chair of the department by moving along the appropriate axis. (I don't want to give too much away.) Let me know if this helps! :)>
203:<I had a similar problem, and mine was due to the fact that the contains() function takes two strings as attributes, i.e. contains(string1, string2) returns true if string2 is contained in string1. We can also do contains(*element*, *string*), which returns true if *string* is contained in the content of *element*. However, if there is more than one occurrence of *element* (as it is the case sometimes with `Prereq`), the contains() function doesn't work anymore, because now the *element* argument inside the contains() function doesn't return a single string, but several strings. There is, however, a way to solve the problem without using the contains() function! Hope this helps! :)>
204:<Thanks for the link, that looks great! :)>
205:<Hi Erin,

Keep in mind that you only need a 50% overall score to earn a statement of accomplishment, so it's still possible to pass the course, even if you only get a few points on the midterm.

That said, the material is cumulative, and can be challenging if you've never worked with relational databases or SQL before. 

Personally, I'm a "learn by doing" type  I think this course is best for learning about DBs at a (mildly) theoretical level, and it's most effective if you arrive already equipped with some practical experience. You'll learn faster this way.

If you want to gain some practical insight into databases, I'd recommend working through [SQL Zoo][1]. You can work through the non-challenge problems in an afternoon or a day, and a lot of understanding will intuitively emerge from that. 

Then you can come back for the next iteration of DB course and zip on through :-)


  [1]: http://sqlzoo.net>
206:<If you need Title of Department you should use:

    //Department[condition on Course/Prerequisites/Prereq]/Title
or

    //*[condition on Prereq]/ancestors::Department/Title

You have condition on Prereq (you are in Prereq node) and try to get Title of Prereq. Prereq just doesn't have Title.>
207:<let $ a:=doc("courses.xml")/@count(Course_Catalog/Department/Course[contains(Description,'system')
])
for $b in doc("courses.xml")/Course_Catalog/Department/Course
where 
$a>=1 and $b/@Enrollment >100
return $b/Instructor/Last_Name

I don't what is wrong with the code?
Thank you for help.>
208:<doc("courses.xml")/Course_Catalog/Department/Course[Title=following-sibling::Course/Title
or Title=preceding-sibling::Course/Title]/Number

Your Query Result: Empty result

Why?
Thank you for your help.>
209:<Hi Feiy,

I believe you are getting an empty result because you are using the sibling axes. Therefore, you are only looking at courses with the same course title *in the same department*. You need a different axis to look at *all* courses (i.e., also the ones offered by different departments).

Hope that helps! :)>
210:<I guess I was being a little bit too abstract in my explanations! ;)>
211:<Thanks! I guessed this q, but now I understand.. a bit :D>
212:<Like I said, you will need to use a different axis. I think it would be against the forum rules if I just tell you what axis it is, so I'll give you a list of all axes in XPath: 1) child, 2) descendant, 3) descendant-or-self, 4) parent, 5) ancestor, 6) ancestor-or-self, 7) following-sibling, 8) preceeding-sibling, 9) following, 10) preceeding. Also, read the question again closely, it will actually tell you the answer ;)>
213:<Yeah, I think they added it after I sent in my post. It wasn't there before. Once it was changed, my answer was correct. But thanks anyway. :-)>
214:<Thank you very much very much! I've got it right!:)>
215:<Hi ExpatKat,

I haven't used the avg() function so far, and I have no idea why you are getting the output you are getting. However, you can solve the problem without using avg(), but using sum() and count() instead! I.e., sum up the enrollment numbers in the CS department, and count the number of courses in the CS department. That gives you everything you need to compute the average :)>
216:<If you using the sandbox what you could place the XML file in the same directory as the Kernow application --

In XQUERY the location of the file is provided by

for $b in doc("BookstoreQ.xml")....

Similarly in XPath the location is provided by

doc("BookstoreQ.xml")....

If you prefer creating a separate folder for your XML files 
all you need to do is swap the files current location for "BookstoreQ.xml"


In other words if the file BookstoreQ.xml is located in C:DBFiles.

To retrieve (for instance) all titles you would enter 

doc("C:/DBFiles/BookstoreQ.xml")/Bookstore/Book/Title

Keep in mind that in submitting your work for grading I believe the grader is
going to be looking for the default location which means it is probably wiser to go with the format utilized in the lectures/videos with respect to the location of the respective files.>
217:<I tested you code with all capital letters removed, the full paths and $ in front of all a and b variables, and it works perfectly : your logic is very right, only you have to be careful with the syntax and the structure of the data ! Good job, I was myself quite stuck on where to start on this question :)
Geetings from ... China !>
218:<Hello,
I have question about correct answer at SQL Social-Network Triggers Exercises Challenge Level Q2.
We perform grade update for these names: name = 'Austin' or name = 'Kyle' or name = 'Logan'. 
Andrew	has 10 (from the database). No grade update. If I check Expected Query Result: 1782	Andrew	11.
My answer has :1782 Andrew 10.
I am doing no changing command (just delete from Highschooler where ID = 000;) - just checking what is correct answer.
What is wrong?

Thanks,
<nameRedac_anon_screen_name_redacted>>
219:<I've figured it out :-)>
220:<Check your numbers :)>
221:<Yeah, I realized later. :-)>
222:<contains(..., &quot;stan&quot;)>
223:<Thanks for you answer and the link you provided! Things are slowly falling into place :)>
224:<Does anybody get their code to work? My code is the same as Feiy (i.e., based on the example in the Demo video) and I have included irudyak's suggestion. However, I still get an error (for some strange reasons, the dollar sign is displayed as "(" below:

My code starts with:
<Average>
    {Let $elist:=doc(....

Error message is:

XPST0003 XQuery syntax error in #<Average>

{Let $elist#:

expected '}', found '$'

Static error(s) in query>
225:<Indeed, thank you Stephanie :)>
226:<no problem ;)>
227:<thank you! I've been checking and checking and missed it ;) 
now I know what to work on>
228:<Since it says the chair of a department, I interpreted this as any department, and then proceeded to simply match any chair's last name with any instructor's last name, then went up using .. to get the title. Seems to have worked :)>
229:<I know that feeling ;)>
230:<Try the fifth icon from the left (the one with the 1's and 0's)... then it should say "enter code here" :)>
231:<Oh never mind, they have two different leastpopular elements... :)>
232:<Hi,

It was annoying for me too. I couldn't find any setting for it so I found much better free xquery processor - try [http://basex.org/][1] 
it looks so much better plus it can process querries in real time :-)


  [1]: http://basex.org/>
233:<Hi

Embarrassed to even be asking this, but having finally got a working mySQL environment on my Mac, I can't find the script to generate the tables the Professor uses in the bulk of the SQL/RDT videos!!

I found the download for the individual examples on the Wiki, but the script for actually generating the tables I can't find anywhere. I'm probably just being blind as a bat, please could someone point me to where I can find it?

Thanks :)>
234:<Thanks.  I decided to just skip the that problem.  The other problem sets are working :)>
235:<Yeah, pretty frustrating exercise. It really was a question of xs:double v xs:float and order of multiplication.>
236:<http://developer.apple.com/internet/opensource/postgres.html redirects silently to https://developer.apple.com/devcenter/safari/index.action which provides no hint about postgres.

Nevermind there are easier ways to run postgres on Mac anyway :-)>
237:<Browsing through the discussion threads for SQL movie rating coreset, I notice there are multiple threads for **Q6**:  

*For all cases where the same reviewer rated the same movie twice and gave it a higher rating the second time, return the reviewer's name and the title of the movie.*  

**TL;DR** -- **How can I create a multi-part query in a single statement without creating a new table to store interim results?**  

I split up the problem into several parts. First I created a table `twoRating` to store the output of a query showing how many reviews were done by each reviewer for a particular movie. The query output is grouped by reviewer ID (`rID`):

    create table twoRating as
        select rID, mID, count(*) as ctr
        from Rating R1
        where R1.rID in (select rID
                         from Rating R2
                         where R1.rID = R2.rID)
        group by R1.rID;    

Notice I renamed the column containing the count of reviews per movie per reviewer as `ctr` so I can reference the col in later queries. The contents of `twoRating` are as follows:  

    201|101|2
    202|106|1
    203|108|3
    204|101|1
    205|108|3
    206|106|2
    207|107|1
    208|104|1

We can immediately see that only two movies were reviewed twice by the same reviewer; `rID 201` reviewed `mID 101` twice and `rID 206` reviewed `mID 106` twice. To glean this info through an SQL query:  

    select rID, mID from twoRating where ctr=2;

which returns  

    201|101
    206|106 

Now we want to find movies which received better reviews from the same reviewer at a later date:  

    select rID, mID
    from Rating R1
    where mID in (select mID from Rating R2
                  where R1.ratingDate < R2.ratingDate and
                        R1.stars < R2.stars and
                        R1.mID = R2.mID and
                        R1.rID = R2.rID);

The result of this query is:  

    201|101

Taking the intersection of the two previous queries will tell us which `rID`, `mID` pair corresponds to a reviewer who reviewed a movie twice and gave it a better rating the 2nd time:  

    select rID, mID from twoRating where ctr = 2
    INTERSECT
    select rID, mID
    from Rating R1
    where mID in (select mID from Rating R2
                  where R1.ratingDate < R2.ratingDate and
                        R1.stars < R2.stars and
                        R1.mID = R2.mID and
                        R1.rID = R2.rID);

The intersection is `rID`, `mID` **201**, **101*>
238:<xsl:template match="country[contains(@name,&quot;stan&quot;)]"
 
Stan xsl:value-of select="./@name"/ /Stan

my result include the correct result,
but it also have some other things.

 Stan Afghanistan /Stan Algiers      <zipRedac>50724<zipRedac>                  English        English              La Matanza      <zipRedac><zipRedac><zipRedac><zipRedac>8<zipRedac><zipRedac>              Cordoba

Ps:('<>' cannot display in the code.)

Why the result have lots of things?
How to correct it?
Thank you very much.>
239:<You will need an additional template to match the text. Check the videos again (I think it's quite in the beginning) :)>
240:<Can anybody help with this question? I also got Empty Result with this code. Thanks.

...path../Course_Catalog
                [Department/Course/Title=preceding::Department/Course/Title or 
                    Department/Course/Title=following::Department/Course/Title]>
241:<**SQL MOVIE RATING Q6,how to SIMPLIFYQUERY**  **STORING TEMPORARY RESULT IN*NEWTABLE**
  












       create table movie rating _list (
        movierating     varchar(100) not null primary key,
        Rname           varchar(100)not null  primary key
        reserved        variable charact
        newmovie        variable character
         movier(mID:integer,moviename:string,
        select RID,MID
        movie(mid:integer,mname:string,language:integer year:real,
        rating(rid:integer,rnumber:string ryear:integer
        Reserved(mid:interger,rid:inttegerday:date)
        let newmovie =1
        let query count  = q1 to q10  
            






will give each unique number where the first new query in this number has query q1,  though there will be query q1 to q10>
242:<Thank you. :-) It's so simple when you see it. I was forgetting the " ".>
243:<Thank you. :-)>
244:<Hi infisxc,

I think I figured it out. MVDs and FDs together *can in fact imply new FDs*. More precisely: If you have a set $F_1$ of functional dependencies, then the closure $F_1^+$ (all the FDs that can be inferred from $F_1$) *by definition* only depends on $F_1$ itself. However, add a set $F_2$ of multivalued dependencies to the mix, and $F_1$ and $F_2$ together could imply an FD that is *not contained in the closure* $F_1^+$. Most of the popular database literature seem to prefer to simply gloss over this fact (grrrrr). However, there is a great book by David Maier called "The Theory of Relational Databases" I came across a couple of days ago; it is available online (with Maier's permission): 

http://web.cecs.pdx.edu/~maier/TheoryBook/TRD.html 

It is quite mathematical in nature, which, judging by your style of reasoning, I am sure you would appreciate. :)

Anyway, in Chapter 7, Section 7.4.2, Maier introduces what he calls "coalescence" (he calls it an axiom, but he actually treats it like a theorem). Here it goes:

**Let $W, X, Y, Z$ be sets of attributes. If $X 	woheadrightarrow Y$ and $Z ightarrow W$ where $W subseteq Y$ and $Y cap Z = emptyset$, then $X ightarrow W$.**

This obviously describes exactly the situation from exercise 12(e), where $W = Y = left{Dight}$, $X = left{Bight}$, and $Z = left{Aight}$; it follows that $B ightarrow D$.

Maybe staff can adjust this question? (Or the answer?) Also, for future runs of this class, would it be possible to at least *mention* that things like this can happen? Please don't get me wrong, this is a great course, and I don't mean to complain, and of course there are tons of details that cannot be covered. But I really think that it should be mentioned that MVDs can infer new FDs - this has caused a lot of confusion for me, and I believe for some other students too.>
245:<Hello: I keep getting "Empty Result" from my codes for these two questions, which are very similar and the hint suggests using preceding and following axes. 

Q2 (Course Catalog):Return course numbers of courses that have the same title as some other course.

Q3 (World Countries): Return the names of all countries containing a city such that some other country has a city of the same name.

My code is almost the same as the one in lecture: about books having the same titles. 

For example, for Q3 in the country database, I have:
...path.../country

    [city[@name]=preceding::country/city[@name] or 

        city[@name]=following::country/city[@name]]

Can anybody help figure out what is wrong? Thanks a lot.>
246:<:) Thanks, juanfs>
247:<Thanks. I made the change and it works now. However, I still cannot resolve the course-catalog question. I have this:

.../Course_Catalog
      
       [Department/Course/Title = preceding::Department/Course/Title or 
          
           Department/Course/Title = following::Department/Course/Title]>
248:<That's what I figured too, but how come 10,1,10 is correct? Surely, by this logic, if |A|=10 and is A connected to B with 1..1, then |B| can be no less than 10? I think I'm confused . . :)>
249:<In fact the "correct" answer did round in the wrong direction sometimes, you can re-check it for e.g. the Balochi language in Pakistan. While I might agree that one should round to an integer because the result should be the number of people in a certain country speaking a certain language which is an integer one should round to the nearest neighbor and not just round down (given the accuracy of the percentage values one should round to 10k or 100k or even higher anyway). I really think this is an error in Q10 that should be corrected, otherwise there should be a hint to round down. Sorting out the rounding - which means inserting false rounding - took me almost as long as wrinting the correct query with the correct rounding behaviour. 

Nevertheless, thanks for all the good work :-)>
250:<Howdy fellow programmers,

This may sound silly, but my brain usually has trouble with the simplest things. UML is nothing more than a modeling system, correct? If my understanding is correct, it functions primarily as a planning and mapping system for databases. Then, we can quickly look at it and convert to a different modeling schema. Is that the right idea?

Thank you! I'm big on understanding concepts so any discussion will help this info stick in my brain! :-)

I hope everyone is having a great day,

Alex>
251:<Yes the scoring in this course is a total disaster.  The Course info page says it's weighted by the formula T = Q + 2X + 3C +3E, but also says that there are 401 point in the class.  If you try and count up all the points on the progress page you get 416 points.  If you try and deduce based on a midterm worth 54 points and 7% of the grade you get 54/0.07 = 771 points in the class. (But is this the 'weighted' point score?  Dividing by 3 doesn't seem to get  anywhere near 401 points).  The progress pages is a disaster into itself.  You have to scroll up and down this giant page just to try and make sense of totals.  I'd take another crack at trying to make sense of the point system but I can't deal going back to a scroll mouse and calculator to glean no info. I can't remember the last course I was in where it wasn't absolutely clear how many points were left in a course and how well I needed to do to get a certain grade.

Someone post here if you solve the hardest problem in this course: how it's graded ;).>
252:<But why do the same 30 points than one gets for the ChallEx-CountriesXPXQ count 8% then? The grading system seems to have some (rounding or other) errors, at least it is obvious that 401 cannot be the basis of the percentage values for Quizzes, Exercises and Exams. For Quizzes, the 401 points seem to be the correct basis, but not for the core and challenge exercises.
Another example: The Movie-Rating core and challenge exercises count both 18 points, the core ex is listed with 5%, the chall ex with 4%. It might be that the percentages for challenge exercises are divided by 400 and not by 401.

But anyway, we can conclude that there are 60 points for the final exam, or whatever points there are in the final exam the exams ounts the eequivalent of 60 points out of 401 :-)>
253:<My insert statement goes like this

    insert into Likes values (New.Id,(select Id2 from Likes
    where Id2 in ( select Id from highschooler
    where grade = New.grade;)
what this does is, it just picks only one student in the same grade and ignores all others. 

I cannot find any material to insert multiple tuples from the lectures.
Can anyone point me in the right direction..>
254:<ah.. Yes you are correct, what a careless mistake. Thanks:)>
255:<Thank you, SaintClair!!
I tried with Begin/End before, but still there was some syntax error :(

Now it's correct, thank you :)>
256:<The syntax goes like `... preceding::node ...`

For example:

    every $p in preceding::Professor satisfies ...>
257:<Thanks.  Unfortunately, I tried that, and received the error:
XPDY0002: The context item for axis step preceding::Professor is undefined

So I must have done something else wrong.  In fact, I've been trying all kinds of things for 3 days and haven't figured out the correct syntax.>
258:<thanks a million :)>
259:<I figured out. I need to write:
   ...
 for $prof in ...
   ... 
 where every $q in $prof/preceding::Professor/Last_Name satisfies ...

I was missing the "$prof/" part.  Thanks!>
260:<The web browser messed up the formatting of my last message.  I meant:

     ... 
     for $prof in ...
 where every $q in ($prof/preceding::Professor/Last_Name satisfies ...

I was missing the `"$prof/"` part.>
261:<What Chris is saying is that you need to modify your where clause within the delete statement. The where clause specifies which tuples to delete, so you need two conditions in the where clause. The first one should check if you're looking at the right tuple, i.e. the one that just got modified. You can use any key of the relation to do that. The second condition should check whether the grade of the modified tuple exceeds 12. It's really hard to give hints without just blurting out the solution... :)>
262:<I am currently working on the extra trigger problems (same data as in the social network exercises). Exercise 3 asks the following:

> Write triggers to manage the grade attribute of new highschoolers. If the inserted tuple has a non-null value for grade, don't permit the insert unless the grade is between 9 and 12. If the inserted tuple has a null value for grade, change it to 9.

For the first part, I just added a CHECK constraint to the attribute declaration; for the second part, I wrote a trigger. Everything works fine. However, the following query yields a rather surprising result:

    INSERT INTO Highschooler 
                SELECT ID+1000, name, grade+1 
                FROM Highschooler;

The tuples in the database at the time I ran the query is the original data, i.e. 4 students in grade 9, 4 students in grade 10, 4 students in grade 11, and 4 students in grade 12. You would expect that the above query would add "duplicates" for all students in grade 9, 10, and 11 ("duplicates" in a sense that it's still the same student, only having 1000 added to his/her ID and 1 added to the grade); the insert should fail for students in grade 12 because trying to insert a tuple with grade 12+1 would violate the check constraint for the grade attribute that says that grade always has to be between 9 and 12. However, this is not what happens. What happens is: *no inserts at all* and the error message "Error: CHECK constraint failed: Highschooler". If I modify the above query by adding

    WHERE grade < 12

I do get indeed 12 new tuples (4 for each grade between 9 and 11). Why does SQLite entirely reject my first query, instead of just adding the 12 tuples that satisfy the grade check constraint and rejecting the 4 tuples that violate said constraint? Can anybody please help me out here?

Thanks in advance!!!

UPDATE: Just for clarification, I realize that I could simply replace the check constraint that I added to the grade attribute declaration by a trigger that checks after each insert/update whether the values are in the correct range (and as a matter of fact, I did that, and it works). I still want to understand what's going on with the check constraint. :)>
263:<Thanks a lot :-)>
264:<yooohoo great news, I've got 76% as well so far, but will do the exam just to see how much I remember ;)>
265:<Thanks a lot, I got it right now. I tried to find a simpler logic and ended up with a completely wrong one :)>
266:<:-D

Oh maan


Sometimes we feel very difficult to resolve even simple problems.>
267:<Yep, MadhurendraS is right
It was M102, MongoDB for DBAs
check here:
https://education.mongodb.com/

And as of original question... Thank you for pointing out that I had problem with a very simple query :D :D :D

And I was not saying that SQL is bad or whatsoever (I like it too). I just whined that there are too many of questions which I considered to be far from real world. But if experienced DBA says that there are situations when tricky queries must be implemented at the DBMS level, I can not argue on that due to the lack of such experience.

(But really, straightforward? Damn...)>
268:<Thanks a lot! now I understand it :)>
269:<Actually, yes, you can get correct result by accident through data manipulation. It is stated clearly in the beginning of every exercise set.
Nevertheless, this particular exercise can be resolved without mentioning middle initials. It is also stated, that "the presence/absence of middle initials **may** require some special handling". But may not :)>
270:<Hi juanfs, thank you very-very much for your patience!!
Yes, I did it ;)>
271:<Hi juanfs,

I finally got it to run after another couple of days of experimenting. Your advice really helped. Thank you! :-)>
272:<Thanks juanfs, that helped me too :)>
273:<I tried this:

let $b:=doc("countries.xml")/countries/country/count(city[population><phoneRedac>]) return $b

and I get the list of counts per country, but when I tried to 
select where each count is over 3 I get only one false. Can you help? I have no clue what I'm doing wrong?>
274:<Thank goodness! I too am squeaking by given I'm a retired EE and taking the Networking class at the same time. I didn't know I still had "all nighters" in me with all those code fragments and languages to learn. Thanks to Dr. Widom, Greg, and all you helpful students for a course that confirmed I was in the right major way back when :-) I have great respect for those of you in this field!>
275:<Thank you, it helped :D>
276:<Thanks a lot Juanfs!!

I got it :)>
277:<I've learned a lot more here in 2 weeks (week 3 & 4) than with 75% of materials from full semester database course at my Uni (I have CS diploma, in my region it's considered one of two top ones in CS).
All other weeks are pure new knowledge to me. I talked with some professionals in the field, and I was really happy to see how much things we heard and learned here 'they really do in real life' :D

This course and tasks were sometimes hard, painful, mindtwisting. 
But every green tick that says 'correct' caused great feeling of accomplishment and being proud of myself when that bulb above my head goes on in that 'aha' moment :)

It certainly boosted both my confidence and knowledge. I'm sure it will help me later in life and career, so, from my whole heart, I deeply thank you Professor, and also to your whole team, for such wonderful experience, sharing knowledge and your time with us.
Thank you once again for this great opportunity you gave us.

<nameRedac_anon_screen_name_redacted>>
278:<i have tried solving this question but i keep getting the same language name and country name several times. thing the problem is with the calculation for speaker. please what is wrong with my calculation?

for $c in doc("countries.xml")/countries/country
for $r in distinct-values($c/language)
let $k:=$c[language=$r]
for $t in $c/language/xs:double(@percentage)
let $w:=xs:int($k/xs:float(@population) *($t  div <zipRedac>00))


<languages>
    <language name='Afghan Persian'>
      <country name='Afghanistan' speakers='<phoneRedac>'/>
    </language>
    <language name='Afghan Persian'>
      <country name='Afghanistan' speakers='<phoneRedac>'/>
    </language>
    <language name='Afghan Persian'>
      <country name='Afghanistan' speakers='<zipRedac><zipRedac>3320<zipRedac>8'/>
    </language>
    <language name='Afrikaans'>
      <country name='Namibia' speakers='<zipRedac>3<zipRedac>7<zipRedac>7'/>
    </language>
    <language name='Afrikaans'>
      <country name='Namibia' speakers='<zipRedac><zipRedac>7<zipRedac>07'/>
    </language>
    <language name='Afrikaans'>
      <country name='Namibia' speakers='<zipRedac>00<zipRedac>3<zipRedac><zipRedac>'/>
    </language>
    <language name='Albanian'>
      <country name='Macedonia' speakers='<zipRedac><zipRedac><zipRedac>8<zipRedac>7'/>
    </language>
    <language name='Albanian'>
      <country name='Macedonia' speakers='<zipRedac><zipRedac>7282<zipRedac>'/>
    </language>
    <language name='Albanian'>
      <country name='Macedonia' speakers='<zipRedac>3<zipRedac>2<zipRedac>'/>
    </language>
    <language name='Albanian'>
      <country name='Macedonia' speakers='<zipRedac>3<zipRedac>2<zipRedac>'/>
    </language>
    <language name='Albanian'>
      <country name='Serbia and Montenegro' speakers='<zipRedac>30727'/>
    </language>
    <language name='Albanian'>
      <country name='Serbia and Montenegro' speakers='<zipRedac>0083830'/>
    </language>>
279:<I'm stumped on this question - can anyone provide some pointers?  Some details below on what I've done so far, though having to describe it rather than just copy & paste (to avoid "cheating") makes this rather wordy :)

While trying to solve it I found that answering Q4 was easier - which gives me the list of all pizzerias serving the pizzas of interest (they may also serve other pizzas).

So to answer Q3, I figured that I could find all pizzerias that serve (all pizzas - pizzas of interest), and then a simple diff of this from Q4's answer should give me what I want.


All this sounds rather complicated and I assume Q3 is simpler than Q4 so perhaps I'm just missing a simple short cut!>
280:<Thank you very much!:)>
281:<Yeah, this course was most enjoyable. I have taken many CS courses and this is about the best one yet. In addition to the amount of useful content, the lectures were excellent and peppered with humorous comments (kept me awake for the most part). The structure, organization and supporting links/materials were clear and helped me navigate (struggle?) through the plethora of exercises, quizzes and deadlines. 

I am amazed at how much I have learned in just 10 weeks (plethora of exercises?) and am grateful for the multiple submissions allowed for the exercise problems. Wish we could have 2 submissions for each exam ;)
 
Overall, I am very impressed with the course. Kudos (and heartfelt thanks) to Prof. Widom, Jeff and Greg.>
282:<I would also like to echo my thanks to Prof. Widom and her staff.  The videos were well-organized, interesting, and easy to watch.  There were lots of exercises available to practice on -- and curse at, occasionally :) -- which helped me understand the material.

Clearly, a lot of work has gone into preparing the material for presentation in this format, and it is certainly appreciated!

I wish I had had more time to work through all of the additional material available, because all lot of effort has gone into compiling all of these great resources.

I have gained a lot of knowledge from this class, and, maybe most importantly, have a good foundation for further exploration.>
283:<I also want to thank very much everyone involved in this course. Special thanks for challenge level exercises - please give me (us?) more ;)>
284:<Unfortunately in my case there is almost two unsubmited exercises difference :P
Luckily isn't changing my grade :)>
285:<A big thank you to you as well, juanfs! I've seen you all over the forum helping people with their questions, taking the time to write thorough and clear explanations. It is very much appreciated :)>
286:<Yes! Thank you very much. Have a wonderful year. :-)>
287:<Thank you all for this course :D
Some parts were hard, i've learned a lot!

If there's going to be another one next year i'm going to take it again to learn what i was not able to get this time :)>
288:<'?' means optional which means - use or not to use, so 0 (not used) or 1 (used)

'*' means 0 or **more** instances

'+' means 1 or **more** instances

So, last two have multiplicity, first is just take/leave :)>
289:<Hello,
In the Ancestor example, using the ParentOf(parent, child) example from the video lecture (To find all of Mary's Ancestors)
I made two different queries, but I get the same result, are the two queries equivalent ?
Q1)

    with recursive ancestor as (
    select parent, child from parentof
    union
    select ancestor.parent,parentof.child
    from parentof,ancestor
    where ancestor.child=parentof.parent)
    select parent from ancestor where child='Mary';

Result1:

    "Dave      "
    "Eve       "
    "Carol     "
    "Alice     "
    "Bob       "


Q2)

    with recursive ancestor as (
    select parent, child from parentof
    union
    select parentof.parent,ancestor.child
    from parentof,ancestor
    where ancestor.parent=parentof.child)
    select parent from ancestor where child='Mary';
Result2:

    "Dave      "
    "Eve       "
    "Carol     "
    "Bob       "
    "Alice     ">
290:<First, I would like to thank you for the course. It was great opportunity to practice SQL and to learn XML topics - DTD, xpath, xquery and xslt. Exercises prepared by the staff was really outstanding - thanks again for them.

I see a lot of entries here in discussion forum asking what is the next step after completing this course. My proposal (as a SQL enthusiast :) ) is to study advanced SQL topics:

**performance hunting**

 - understanding of common implementations of basic operations (semi-join, anti-join, nested loops, ...) and its complexities
 - query plan analysis
 - best practices for indexing and effective querying
 - access, index and table level filter predicates, range scan, leaf node traversal
 - storing big data sets (hundreds of millions records) using partitioning (horizontal/vertical) and other techniques (e.g. sharding)

**advanced SQL**

- aggregate queries utilizing [window clause and window functions][1]
- subqueries (correlated vs uncorrelated subqueries, use in SELECT/FROM/WHERE clauses, subquery vs stored procedure vs VIEW from index point of view, performance and complexity)
- CTE and data manipulation (e.g. move records from one table to another within a single WITH-query)
- procedural languages (e.g. PL/pgSQL, T-SQL)
- stored procedures with side-effects in SELECT, FROM, WHERE clauses in various queries with and without clauses ORDER BY, LIMIT, GROUP BY
- stored procedures with side-effects in INSERT/UPDATE/DELETE queries

**other**

- spatial queries (SpatiaLite, PostGIS)
- [anchor modeling][2]


It would be nice to see such online course here at Stanford Online or at Coursera. Unfortunately, I haven't found such, so there is no other way than to follow mentioned topics on internet and to practice on their own.


  [1]: http://en.wikipedia.org/wiki/Window_function_%28SQL%29#Window_function
  [2]: http://en.wikipedia.org/wiki/Anchor_Modeling>
291:<Thanks for doing this.  Adding this little visual was very helpful for me.  :)>
292:<Dear staff,

Are there going to be class statistics published? I seem to remember something along those lines. Also, the FAQs state:

"You will receive a statement of accomplishment from the instructor, which will include information on how well you did and **how your performance compared to other online students**."

Any info would be appreciated! :)

And thanks a lot for this great course, I enjoyed it a lot!>
293:<Hi! I am an university student in South Korea. :) 
I tried to understand the explanation of the Quiz 4(DTD)in XML but i could not.
I know what is dtd but i don`t know the tags in it. 
Can anyone help me?>
